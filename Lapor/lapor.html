<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Form Pelaporan - Satgas PPKS</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    
    <!-- Original Style CSS (Root styles) -->
    <link rel="stylesheet" href="../style.css" />
    
    <!-- Lapor Custom CSS (Form specific) -->
    <link rel="stylesheet" href="lapor.css" />
</head>
<body>
    <!-- ============================================
         NAVBAR (Sama seperti landing page)
         ============================================ -->
    <nav class="navbar header-bg fixed-top" role="navigation" aria-label="Navigasi Utama">
        <div class="main-container nav-content">
            <a class="logo" href="../Landing Page/Landing_Page.html">Sigap</a>
            
            <div class="nav-links" id="primary-navigation">
                <a class="nav-item" href="../About Page/about.html">ABOUT</a>
                <a class="nav-item" href="../Landing Page/Landing_Page.html#caraLapor">CARA LAPOR</a>
                <a class="nav-item" href="../Landing Page/Landing_Page.html#kapanLapor">KAPAN HARUS LAPOR?</a>
                <a class="nav-item" href="../Landing Page/Landing_Page.html#monitoring">MONITORING</a>
            </div>
            
            <div class="nav-actions">
                <button class="btn btn-outline-light" onclick="window.location.href='lapor.html'">LAPOR</button>
            </div>
            
            <button class="hamburger" aria-label="Buka menu" aria-controls="primary-navigation" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- ============================================
         FORM SECTION
         ============================================ -->
    <section class="lapor-section">
        <div class="main-container">
            
            <!-- Progress Indicator -->
            <div class="lapor-progress-wrapper reveal" data-reveal>
                <div class="lapor-progress-text">Langkah <span id="currentStepNumber">1</span> dari 5</div>
                <div class="lapor-progress-bar">
                    <div class="lapor-progress-fill" id="progressBar" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>

            <!-- Form Card Container -->
            <div class="lapor-card reveal" data-reveal>
                <form id="laporForm" novalidate>
                    
                    <!-- ==========================================
                         STEP 1: KEADAAN DARURAT
                         ========================================== -->
                    <div class="form-step active" id="step1">
                        <h2 class="lapor-title">Apakah kamu dalam keadaan DARURAT?</h2>
                        <p class="lapor-subtitle">Pilih salah satu di bawah ini</p>
                        
                        <div class="lapor-choices-grid">
                            <!-- Card DARURAT -->
                            <div class="lapor-choice darurat-choice" data-value="darurat" data-name="statusDarurat">
                                <input type="radio" name="statusDarurat" id="darurat" value="darurat" hidden>
                                <label for="darurat" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/TandaSeru.png" alt="Darurat" class="lapor-choice-icon">
                                        <h3 class="lapor-choice-title">DARURAT!</h3>
                                        <p class="lapor-choice-desc">Tekan di sini untuk panggilan darurat</p>
                                    </div>
                                </label>
                            </div>
                            
                            <!-- Card TIDAK DARURAT -->
                            <div class="lapor-choice tidak-darurat-choice" data-value="tidak" data-name="statusDarurat">
                                <input type="radio" name="statusDarurat" id="tidak" value="tidak" hidden>
                                <label for="tidak" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/Sedih.png" alt="Tidak Darurat" class="lapor-choice-icon">
                                        <h3 class="lapor-choice-title">TIDAK</h3>
                                        <p class="lapor-choice-desc">Saya butuh bantuan tetapi tidak dalam keadaan darurat</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="lapor-nav">
                            <button type="button" class="btn-lapor btn-next" id="btnLanjutkan1" disabled>
                                Lanjutkan <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- ==========================================
                         STEP 2: SIAPA KORBANNYA & KEHAWATIRAN
                         ========================================== -->
                    <div class="form-step" id="step2">
                        <h2 class="lapor-title">Siapa Korbannya?</h2>
                        <p class="lapor-subtitle">Pilih salah satu di bawah ini</p>
                        
                        <div class="lapor-choices-grid">
                            <!-- Card SAYA SENDIRI -->
                            <div class="lapor-choice saya-choice" data-value="saya" data-name="korban" data-group="korban">
                                <input type="radio" name="korban" id="saya" value="saya" hidden>
                                <label for="saya" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/SAYA.png" alt="Saya Sendiri" class="lapor-choice-icon">
                                        <h3 class="lapor-choice-title">SAYA SENDIRI</h3>
                                        <p class="lapor-choice-desc">Saya sendiri mengalami sebagai korban</p>
                                    </div>
                                </label>
                            </div>
                            
                            <!-- Card ORANG LAIN -->
                            <div class="lapor-choice orang-lain-choice" data-value="oranglain" data-name="korban" data-group="korban">
                                <input type="radio" name="korban" id="oranglain" value="oranglain" hidden>
                                <label for="oranglain" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/OrangLain.png" alt="Orang Lain" class="lapor-choice-icon">
                                        <h3 class="lapor-choice-title">ORANG LAIN</h3>
                                        <p class="lapor-choice-desc">Saya melihat atau mendengar orang lain mendapat kekerasan</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Divider -->
                        <div class="lapor-divider"></div>
                        
                        <h2 class="lapor-title">Nilai tingkat kehawatiran Anda?</h2>
                        <p class="lapor-subtitle">Pilih salah satu di bawah ini</p>
                        
                        <div class="lapor-choices-grid three-col">
                            <!-- SEDIKIT KHAWATIR -->
                            <div class="lapor-choice sedikit-khawatir-choice" data-value="sedikit" data-name="kehawatiran" data-group="kehawatiran">
                                <input type="radio" name="kehawatiran" id="sedikit" value="sedikit" hidden>
                                <label for="sedikit" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/Sedih.png" alt="Sedikit Khawatir" class="lapor-choice-icon small">
                                        <h3 class="lapor-choice-title small">SEDIKIT KHAWATIR</h3>
                                    </div>
                                </label>
                            </div>
                            
                            <!-- KHAWATIR -->
                            <div class="lapor-choice khawatir-choice" data-value="khawatir" data-name="kehawatiran" data-group="kehawatiran">
                                <input type="radio" name="kehawatiran" id="khawatir" value="khawatir" hidden>
                                <label for="khawatir" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/Khawatir.png" alt="Khawatir" class="lapor-choice-icon small">
                                        <h3 class="lapor-choice-title small">KHAWATIR</h3>
                                    </div>
                                </label>
                            </div>
                            
                            <!-- SANGAT KHAWATIR -->
                            <div class="lapor-choice sangat-khawatir-choice" data-value="sangat" data-name="kehawatiran" data-group="kehawatiran">
                                <input type="radio" name="kehawatiran" id="sangat" value="sangat" hidden>
                                <label for="sangat" class="lapor-choice-label">
                                    <div class="lapor-choice-radio"></div>
                                    <div class="lapor-choice-content">
                                        <img src="assets/SangatKhawatir.png" alt="Sangat Khawatir" class="lapor-choice-icon small">
                                        <h3 class="lapor-choice-title small">SANGAT KHAWATIR</h3>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="lapor-nav">
                            <button type="button" class="btn-lapor btn-back" id="btnKembali2">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button type="button" class="btn-lapor btn-next" id="btnLanjutkan2" disabled>
                                Lanjutkan <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- ==========================================
                         STEP 3: GENDER KORBAN
                         ========================================== -->
                    <div class="form-step" id="step3">
                        <h2 class="lapor-title">Gender Korban</h2>
                        <p class="lapor-subtitle">Pilih salah satu di bawah ini</p>
                        
                        <div class="lapor-radio-list">
                            <div class="lapor-radio-item">
                                <input type="radio" name="genderKorban" id="lakilaki" value="lakilaki">
                                <label for="lakilaki">Laki-laki</label>
                            </div>
                            <div class="lapor-radio-item">
                                <input type="radio" name="genderKorban" id="perempuan" value="perempuan">
                                <label for="perempuan">Perempuan</label>
                            </div>
                        </div>

                        <div class="lapor-nav">
                            <button type="button" class="btn-lapor btn-back" id="btnKembali3">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button type="button" class="btn-lapor btn-next" id="btnLanjutkan3" disabled>
                                Lanjutkan <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- ==========================================
                         STEP 4: DATA KEJADIAN KEKERASAN
                         ========================================== -->
                    <div class="form-step" id="step4">
                        <h2 class="lapor-title">Data Kejadian Kekerasan</h2>
                        <p class="lapor-subtitle">Isi formulir di bawah ini dengan lengkap</p>
                        
                        <!-- Siapa yang Melakukan Kekerasan -->
                        <div class="lapor-field">
                            <label for="pelakuKekerasan" class="lapor-label">
                                Siapa yang Melakukan Kekerasan? <span class="required">*</span>
                            </label>
                            <p class="lapor-hint">(Hubungan terduga pelaku dengan korban)</p>
                            <select class="lapor-input" id="pelakuKekerasan" name="pelakuKekerasan" required>
                                <option value="" selected disabled>Pilih hubungan dengan korban</option>
                                <option value="orang_tidak_dikenal">Orang Tidak Dikenal</option>
                                <option value="diri_sendiri">Diri Sendiri</option>
                                <option value="kenalan_baru">Kenalan Baru</option>
                                <option value="pengurus_rumah_tangga">Pengurus Rumah Tangga</option>
                                <option value="guru">Guru</option>
                                <option value="petugas_layanan">Petugas Layanan</option>
                                <option value="petugas_sekolah">Petugas Sekolah</option>
                                <option value="teman">Teman</option>
                                <option value="suami_istri">Suami/Istri</option>
                                <option value="tetangga_teman_keluarga">Tetangga/Teman Keluarga</option>
                                <option value="kerabat">Kerabat</option>
                                <option value="ayah_kandung">Ayah Kandung</option>
                                <option value="ibu_kandung">Ibu Kandung</option>
                                <option value="pengasuh_utama">Pengasuh Utama</option>
                                <option value="anak">Anak</option>
                                <option value="pacar">Pacar</option>
                                <option value="rekan_kerja">Rekan Kerja</option>
                                <option value="atasan_majikan">Atasan/Majikan</option>
                                <option value="lainnya">Lainnya</option>
                            </select>
                            <span class="lapor-error" id="errorPelaku">Hubungan dengan korban wajib dipilih</span>
                        </div>

                        <!-- Kapan Kejadiannya -->
                        <div class="lapor-field">
                            <label for="waktuKejadian" class="lapor-label">
                                Kapan kejadiannya? <span class="required">*</span>
                            </label>
                            <select class="lapor-input" id="waktuKejadian" name="waktuKejadian" required>
                                <option value="" selected disabled>Pilih waktu kejadian</option>
                                <option value="pagi">Pagi (06:00 - 11:59)</option>
                                <option value="siang">Siang (12:00 - 14:59)</option>
                                <option value="sore">Sore (15:00 - 17:59)</option>
                                <option value="malam">Malam (18:00 - 05:59)</option>
                                <option value="tidak_diketahui">Tidak Diketahui</option>
                            </select>
                            <span class="lapor-error" id="errorWaktu">Waktu kejadian wajib dipilih</span>
                        </div>

                        <!-- Di mana kejadiannya -->
                        <div class="lapor-field">
                            <label for="lokasiKejadian" class="lapor-label">
                                Di mana kejadiannya? <span class="required">*</span>
                            </label>
                            <select class="lapor-input" id="lokasiKejadian" name="lokasiKejadian" required>
                                <option value="" selected disabled>Pilih lokasi kejadian</option>
                                <option value="rumah_tangga">Rumah Tangga</option>
                                <option value="tempat_kerja">Tempat Kerja</option>
                                <option value="sekolah_kampus">Sekolah/Kampus</option>
                                <option value="sarana_umum">Sarana Umum</option>
                                <option value="situasi_darurat">Situasi Darurat/Tempat Bencana</option>
                                <option value="daring_elektronik">Daring/Elektronik</option>
                            </select>
                            <span class="lapor-error" id="errorLokasi">Lokasi kejadian wajib dipilih</span>
                        </div>

                        <!-- Apa yang terjadi -->
                        <div class="lapor-field">
                            <label for="detailKejadian" class="lapor-label">
                                Apa yang terjadi? <span class="required">*</span>
                            </label>
                            <p class="lapor-hint">
                                Ceritakan secara detail apa yang terjadi (minimal 10 karakter).
                                Bisa ketik atau <strong>gunakan suara</strong> ðŸŽ¤
                            </p>

                            <!-- Textarea with Voice Button Container -->
                            <div class="textarea-voice-wrapper">
                                <textarea class="lapor-input lapor-textarea" id="detailKejadian" name="detailKejadian" rows="6"
                                    placeholder="Ceritakan secara detail apa yang terjadi... atau klik tombol mikrofon untuk merekam suara Anda" required></textarea>

                                <!-- Voice Input Button -->
                                <button type="button" class="btn-voice-input" id="btnVoiceInput" title="Rekam suara">
                                    <i class="fas fa-microphone"></i>
                                </button>

                                <!-- Recording Indicator -->
                                <div class="voice-recording-indicator" id="voiceRecordingIndicator" style="display: none;">
                                    <div class="recording-pulse"></div>
                                    <span class="recording-text">Sedang merekam...</span>
                                    <button type="button" class="btn-stop-recording" id="btnStopRecording">
                                        <i class="fas fa-stop"></i> Stop
                                    </button>
                                </div>
                            </div>

                            <span class="lapor-error" id="errorDetail">Wajib memberikan keterangan kejadian minimal 10 karakter</span>
                        </div>

                        <!-- Upload Bukti Foto/Video -->
                        <div class="lapor-field">
                            <label class="lapor-label">
                                Upload Bukti (Foto/Video) <span class="required">*</span>
                            </label>
                            <p class="lapor-hint">
                                <i class="fas fa-shield-alt"></i>
                                Minimal 1 foto atau video untuk memvalidasi laporan Anda. Maksimal 5 file, masing-masing max 10MB.
                            </p>

                            <!-- Upload Area -->
                            <div class="upload-area" id="uploadArea">
                                <div class="upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <h4 class="upload-title">Klik atau seret file ke sini</h4>
                                <p class="upload-desc">Format: JPG, PNG, MP4, MOV (Max 10MB per file)</p>
                                <input type="file" id="fileInput" name="buktiFiles"
                                    accept="image/jpeg,image/jpg,image/png,video/mp4,video/quicktime"
                                    multiple hidden>
                                <button type="button" class="btn-upload" id="btnSelectFiles">
                                    <i class="fas fa-folder-open"></i> Pilih File
                                </button>
                            </div>

                            <!-- Preview Container -->
                            <div class="file-preview-container" id="filePreviewContainer"></div>

                            <span class="lapor-error" id="errorFiles">Minimal 1 foto atau video wajib diunggah</span>
                        </div>

                        <div class="lapor-nav">
                            <button type="button" class="btn-lapor btn-back" id="btnKembali4">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button type="button" class="btn-lapor btn-next" id="btnLanjutkan4" disabled>
                                Lanjutkan <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- ==========================================
                         STEP 5: INPUT DATA KORBAN
                         ========================================== -->
                    <div class="form-step" id="step5">
                        <h2 class="lapor-title">Input Data Korban</h2>
                        <p class="lapor-subtitle">Data korban diperlukan untuk proses pelaporan</p>
                        
                        <!-- Email -->
                        <div class="lapor-field">
                            <label for="emailKorban" class="lapor-label">
                                Masukkan email Anda
                            </label>
                            <p class="lapor-hint">Untuk melihat progress laporan (opsional)</p>
                            <input type="email" class="lapor-input" id="emailKorban" name="emailKorban" 
                                placeholder="contoh@email.com">
                            <span class="lapor-error" id="errorEmail">Format email tidak valid</span>
                        </div>

                        <!-- Usia Korban -->
                        <div class="lapor-field">
                            <label for="usiaKorban" class="lapor-label">
                                Usia Korban <span class="required">*</span>
                            </label>
                            <select class="lapor-input" id="usiaKorban" name="usiaKorban" required>
                                <option value="" selected disabled>Pilih usia korban</option>
                                <option value="12-17">12-17 tahun</option>
                                <option value="18-25">18-25 tahun</option>
                                <option value="26-35">26-35 tahun</option>
                                <option value="36-45">36-45 tahun</option>
                                <option value="46-55">46-55 tahun</option>
                                <option value="56+">56 tahun ke atas</option>
                            </select>
                            <span class="lapor-error" id="errorUsia">Usia korban wajib dipilih</span>
                        </div>

                        <!-- Disabilitas Status -->
                        <div class="lapor-field">
                            <label class="lapor-label">Apakah Korban Memiliki Disabilitas?</label>
                            <div class="lapor-radio-list inline">
                                <div class="lapor-radio-item">
                                    <input type="radio" name="disabilitasStatus" id="disabilitasYa" value="ya">
                                    <label for="disabilitasYa">Ya</label>
                                </div>
                                <div class="lapor-radio-item">
                                    <input type="radio" name="disabilitasStatus" id="disabilitasTidak" value="tidak">
                                    <label for="disabilitasTidak">Tidak</label>
                                </div>
                            </div>
                        </div>

                        <!-- Jenis Disabilitas (Hidden by default) -->
                        <div class="lapor-field hidden" id="jenisDisabilitasContainer">
                            <label for="jenisDisabilitas" class="lapor-label">
                                Jenis Disabilitas Korban <span class="required">*</span>
                            </label>
                            <select class="lapor-input" id="jenisDisabilitas" name="jenisDisabilitas">
                                <option value="" selected disabled>Pilih jenis disabilitas</option>
                                <option value="kesulitan_melihat">Kesulitan melihat (meskipun memakai kacamata)</option>
                                <option value="kesulitan_mendengar">Kesulitan mendengar (meskipun menggunakan alat bantu)</option>
                                <option value="kesulitan_berkomunikasi">Kesulitan berkomunikasi</option>
                                <option value="kesulitan_mengingat">Kesulitan mengingat atau berkonsentrasi</option>
                                <option value="kesulitan_perawatan_diri">Kesulitan perawatan diri</option>
                                <option value="kesulitan_berjalan">Kesulitan berjalan atau menaiki tangga</option>
                            </select>
                            <span class="lapor-error" id="errorDisabilitas">Jenis disabilitas wajib dipilih</span>
                        </div>

                        <!-- WhatsApp -->
                        <div class="lapor-field">
                            <label for="whatsappKorban" class="lapor-label">
                                Nomor WhatsApp yang dapat dihubungi
                            </label>
                            <div class="lapor-input-group">
                                <span class="lapor-input-icon">
                                    <i class="fab fa-whatsapp"></i>
                                </span>
                                <input type="tel" class="lapor-input with-icon" id="whatsappKorban" name="whatsappKorban" 
                                    placeholder="08xxxxxxxxxx">
                            </div>
                            <span class="lapor-error" id="errorWhatsapp">Nomor WhatsApp tidak valid</span>
                        </div>

                        <div class="lapor-nav">
                            <button type="button" class="btn-lapor btn-back" id="btnKembali5">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button type="button" class="btn-lapor btn-submit" id="btnKirimPengaduan" disabled>
                                Kirim Pengaduan <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="../index.js" defer></script>
    <script src="lapor.js" defer></script>
</body>
</html>